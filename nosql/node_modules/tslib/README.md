---
ms.openlocfilehash: 01a1075709ee7685c7e50aaac319fd4ea9297693
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050725"
---
# <a name="tslib"></a>tslib

这是 [TypeScript](http://www.typescriptlang.org/) 的运行时库，其中包含所有 TypeScript 帮助程序函数。

此库主要由 TypeScript 中的 `--importHelpers` 标志使用。
使用 `--importHelpers` 时，模块在以下发出的文件中使用 `__extends` 和 `__assign` 等辅助函数：

```ts
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
exports.x = {};
exports.y = __assign({}, exports.x);

```

将改为发出如下内容：

```ts
var tslib_1 = require("tslib");
exports.x = {};
exports.y = tslib_1.__assign({}, exports.x);
```

由于这可以避免重复声明诸如 `__extends`、`__assign` 等内容，这意味着平均提供的文件更小，以及运行时开销更少。
对于具有 TypeScript 的优化捆绑包，应绝对考虑使用 `tslib` 和 `--importHelpers`。

# <a name="installing"></a>安装

对于最新的稳定版本，运行：

## <a name="npm"></a>npm

```sh
# TypeScript 3.9.2 or later
npm install tslib

# TypeScript 3.8.4 or earlier
npm install tslib@^1

# TypeScript 2.3.2 or earlier
npm install tslib@1.6.1
```

## <a name="yarn"></a>yarn

```sh
# TypeScript 3.9.2 or later
yarn add tslib

# TypeScript 3.8.4 or earlier
yarn add tslib@^1

# TypeScript 2.3.2 or earlier
yarn add tslib@1.6.1
```

## <a name="bower"></a>bower

```sh
# TypeScript 3.9.2 or later
bower install tslib

# TypeScript 3.8.4 or earlier
bower install tslib@^1

# TypeScript 2.3.2 or earlier
bower install tslib@1.6.1
```

## <a name="jspm"></a>JSPM

```sh
# TypeScript 3.9.2 or later
jspm install tslib

# TypeScript 3.8.4 or earlier
jspm install tslib@^1

# TypeScript 2.3.2 or earlier
jspm install tslib@1.6.1
```

# <a name="usage"></a>使用情况

在命令行上设置 `importHelpers` 编译器选项：

```
tsc --importHelpers file.ts
```

或在 tsconfig.json 中：

```json
{
    "compilerOptions": {
        "importHelpers": true
    }
}
```

#### <a name="for-bower-and-jspm-users"></a>对于 bower 和 JSPM 用户

需要为 `tslib` 添加一个 `paths` 映射，例如：对于 Bower 用户：

```json
{
    "compilerOptions": {
        "module": "amd",
        "importHelpers": true,
        "baseUrl": "./",
        "paths": {
            "tslib" : ["bower_components/tslib/tslib.d.ts"]
        }
    }
}
```

对于 JSPM 用户：

```json
{
    "compilerOptions": {
        "module": "system",
        "importHelpers": true,
        "baseUrl": "./",
        "paths": {
            "tslib" : ["jspm_packages/npm/tslib@2.x.y/tslib.d.ts"]
        }
    }
}
```

## <a name="deployment"></a>部署

- 选择新的版本号
- 在 `package.json` 和 `bower.json` 中设置
- 创建标记：`git tag [version]`
- 推送标记：`git push --tags`
- [在 GitHub 中创建版本](https://github.com/microsoft/tslib/releases)
- 运行[发布到 npm](https://github.com/microsoft/tslib/actions?query=workflow%3A%22Publish+to+NPM%22) 工作流

完成。

# <a name="contribute"></a>参与

有许多方法可以为 TypeScript [做出贡献](https://github.com/Microsoft/TypeScript/blob/master/CONTRIBUTING.md)。

* [提交错误](https://github.com/Microsoft/TypeScript/issues)并帮助我们在已签入时验证修复。
* 检查[源代码更改](https://github.com/Microsoft/TypeScript/pulls)。
* 与 [StackOverflow](http://stackoverflow.com/questions/tagged/typescript) 上的其他 TypeScript 用户和开发人员互动。
* 加入 Twitter 上的 [#typescript](http://twitter.com/#!/search/realtime/%23typescript) 讨论。
* [参与 bug 修复](https://github.com/Microsoft/TypeScript/blob/master/CONTRIBUTING.md)。

# <a name="documentation"></a>文档

* [快速教程](http://www.typescriptlang.org/Tutorial)
* [编程手册](http://www.typescriptlang.org/Handbook)
* [Homepage](http://www.typescriptlang.org/)
