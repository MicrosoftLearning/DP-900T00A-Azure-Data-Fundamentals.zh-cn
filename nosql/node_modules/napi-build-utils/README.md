---
ms.openlocfilehash: cd72d1467028c08f2a449ae82aab8332c66599be
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050638"
---
# <a name="napi-build-utils"></a>napi-build-utils

[![npm](https://img.shields.io/npm/v/napi-build-utils.svg)](https://www.npmjs.com/package/napi-build-utils)
![Node 版本](https://img.shields.io/node/v/prebuild.svg)
[![版本状态](https://travis-ci.org/inspiredware/napi-build-utils.svg?branch=master)](https://travis-ci.org/inspiredware/napi-build-utils) 
[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com/) 
[![许可证：MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) 

一组实用工具，可帮助工具开发人员构建 [N-API](https://nodejs.org/api/n-api.html#n_api_n_api) 本机加载项。

## <a name="background"></a>背景

此模块适合开发人员用来创建工具以生成 N-API 本机加载项。 

它实现了一组函数，这些函数有助于确定当前正在运行的 Node 实例支持的 N-API 版本，以及设计 N-API 本机加载项所针对的 N-API 版本集。 其他函数确定是否可以构建特定的 N-API 版本，并且可以为不受支持的 N-API 版本发出控制台警告。 

与此代码旨在促进构建的模块不同，此模块完全用 JavaScript 编写。 

## <a name="quick-start"></a>快速入门

```bash
$ npm install napi-build-utils
```

该模块导出一组记录在[此处](./index.md)的函数。 例如：

```javascript
var napiBuildUtils = require('napi-build-utils');
var napiVersion = napiBuildUtils.getNapiVersion(); // N-API version supported by Node, or undefined.
```

## <a name="declaring-supported-n-api-versions"></a>声明支持的 N-API 版本

对于设计为使用 [N-API](https://nodejs.org/api/n-api.html#n_api_n_api) 的本机模块，必须显式声明它们被编码以构建的 N-API 版本。 这是通过在模块的 `package.json` 文件中包含 `binary.napi_versions` 属性来实现的。 例如：

```json
"binary": {
  "napi_versions": [2,3]
}
``` 

如果不需要针对特定的 N-API 版本进行编译，值 `3` 是一个不错的选择，因为这是 N-API 离开实验状态时支持的 N-API 版本。 

针对特定 N-API 版本构建的模块将继续无限期运行，即使引入了 N-API 的更高版本也是如此。 

## <a name="support"></a>支持

如果遇到问题或限制，请提出问题，我们会查看。 也欢迎提交拉取请求。  
