---
ms.openlocfilehash: bde406d8d45bc5daf2ae1961d447f452ff1308da
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050494"
---
# <a name="installation"></a>安装
> `npm install --save @types/stoppable`

# <a name="summary"></a>摘要
此包包含可停止 (https://github.com/hunterloftis/stoppable) 的类型定义。

# <a name="details"></a>详细信息
文件是从 https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/stoppable 导出的。
## <a name="indexdts"></a>[index.d.ts](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/stoppable/index.d.ts)
````ts
// Type definitions for stoppable 1.1
// Project: https://github.com/hunterloftis/stoppable
// Definitions by: Eric Byers <https://github.com/EricByers>
//                 John Plusjé <https://github.com/jplusje>
//                 BendingBender <https://github.com/BendingBender>
// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped

/// <reference types="node" />
import * as http from "http";
import * as https from "https";

declare namespace stoppable {
    // Left for backwards compatibility
    type StoppableServer = http.Server & WithStop;

    interface WithStop {
        /**
         * Closes the server.
         *
         * @param callback Passed along to the existing `server.close` function to
         * auto-register a `'close'` event. The first agrument is an error, and
         * the second argument indicates whether it stopped gracefully.
         */
        stop(callback?: (e: Error | undefined, gracefully: boolean) => any): void;
    }
}

/**
 * Decorates a server instance with a `stop` method.
 *
 * @param server Any HTTP or HTTPS Server instance.
 * @param grace Milliseconds to wait before force-closing connections. Defaults to
 *              `Infinity` (don't force-close). If you want to immediately kill all sockets
 *              you can use a grace of `0`.
 * @returns The server instance, so can be chained, or can be run as a standalone statement.
 *
 * @example
 * import * as http from 'http';
 * import stoppable = require('stoppable');
 *
 * const server = stoppable(http.createServer((req, res) => {}));
 * server.stop();
 */
declare function stoppable<T extends http.Server | https.Server>(server: T, grace?: number): T & stoppable.WithStop;

export = stoppable;

````

### <a name="additional-details"></a>其他详细信息
 * 上次更新时间：2021 年 5 月 31 日周一 17:01:23 GMT
 * 依赖项：[@types/node](https://npmjs.com/package/@types/node)
 * 全局值：无

# <a name="credits"></a>信用
这些定义由 [Eric Byers](https://github.com/EricByers)、[John Plusjé](https://github.com/jplusje) 和 [BendingBender](https://github.com/BendingBender) 编写。
