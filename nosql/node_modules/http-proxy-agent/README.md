---
ms.openlocfilehash: 295e6f02b427358b008b408753c45764d98ac33e
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050468"
---
<a name="http-proxy-agent"></a>http-proxy-agent
================
### <a name="an-https-proxy-httpagent-implementation-for-http"></a>适用于 HTTP 的 HTTP 代理 `http.Agent` 实现
[![生成状态](https://github.com/TooTallNate/node-http-proxy-agent/workflows/Node%20CI/badge.svg)](https://github.com/TooTallNate/node-http-proxy-agent/actions?workflow=Node+CI)

此模块提供连接到指定 HTTP 或 HTTPS 代理服务器的 `http.Agent` 实现，可以与内置 `http` 模块一起使用。

__注意：__ 对于 `https` 模块的 HTTP 代理使用情况，请查看 [`node-https-proxy-agent`](https://github.com/TooTallNate/node-https-proxy-agent)。

<a name="installation"></a>安装
------------

使用 `npm` 安装：

``` bash
$ npm install http-proxy-agent
```


<a name="example"></a>示例
-------

``` js
var url = require('url');
var http = require('http');
var HttpProxyAgent = require('http-proxy-agent');

// HTTP/HTTPS proxy to connect to
var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
console.log('using proxy server %j', proxy);

// HTTP endpoint for the proxy to connect to
var endpoint = process.argv[2] || 'http://nodejs.org/api/';
console.log('attempting to GET %j', endpoint);
var opts = url.parse(endpoint);

// create an instance of the `HttpProxyAgent` class with the proxy server information
var agent = new HttpProxyAgent(proxy);
opts.agent = agent;

http.get(opts, function (res) {
  console.log('"response" event!', res.headers);
  res.pipe(process.stdout);
});
```


<a name="license"></a>许可
-------

（MIT 许可证）

版权所有 (c) 2013 Nathan Rajlich &lt;nathan@tootallnate.net&gt;

特此免费授予获得该软件和相关文档文件（“软件”）副本的任何人无限制地处理软件的权利，包括但不限于使用、复制、修改、合并、发布、分发、再许可和/或出售本软件的副本，并允许提供软件的人员这样做，但须满足以下条件：

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

本软件按“原样”提供，不提供任何形式的明示或暗示担保，包括但不限于对适销性，特定目的的适用性和非侵权性的担保。
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
