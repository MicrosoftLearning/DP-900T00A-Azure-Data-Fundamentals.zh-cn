---
ms.openlocfilehash: ef6f304599d1f60fe91f5197d5aa502325733b67
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050505"
---
# <a name="set-blocking"></a>set-blocking

[![生成状态](https://travis-ci.org/yargs/set-blocking.svg)](https://travis-ci.org/yargs/set-blocking)
[![NPM 版本](https://img.shields.io/npm/v/set-blocking.svg)](https://www.npmjs.com/package/set-blocking)
[![覆盖状态](https://coveralls.io/repos/yargs/set-blocking/badge.svg?branch=)](https://coveralls.io/r/yargs/set-blocking?branch=master)
[![标准版本](https://img.shields.io/badge/release-standard%20version-brightgreen.svg)](https://github.com/conventional-changelog/standard-version)

设置阻止 `stdio` 和 `stderr`，确保终端输出不会截断。

```js
const setBlocking = require('set-blocking')
setBlocking(true)
console.log(someLargeStringToOutput)
```

## <a name="historical-contextword-of-warning"></a>历史上下文/警告词

这是作为填充码创建的，以解决[节点 #6456](https://github.com/nodejs/node/issues/6456) 中讨论的 bug。 此 bug 出现在较新版本的 Node.js (`0.12+`) 中，截断终端输出。

应注意使用 `set-blocking` 导致的副作用：

* 如果模块设置为阻止 `true`，它将影响使用库的其他模块。 在 [yargs](https://github.com/yargs/yargs/blob/master/yargs.js#L653) 中，我们仅在知道要调用 `process.exit(code)` 时才调用 `setBlocking(true)`。
* 此修补程序不适用于由 `isTTY = true` 生成的子进程，这是[默认 `spawn()` 行为](https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options)。

## <a name="license"></a>许可

ISC
