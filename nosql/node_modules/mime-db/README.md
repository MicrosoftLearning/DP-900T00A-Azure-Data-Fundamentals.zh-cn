---
ms.openlocfilehash: 8600eb5937207d381706ffe6bd6f5dc286da14fc
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050905"
---
# <a name="mime-db"></a>mime-db

[![NPM 版本][npm-version-image]][npm-url]
[![NPM 下载][npm-downloads-image]][npm-url]
[![Node.js 版本][node-image]][node-url]
[![生成状态][ci-image]][ci-url]
[![覆盖状态][coveralls-image]][coveralls-url]

这是所有 mime 类型的数据库。
它由单个公共 JSON 文件组成，并且不包含任何逻辑，从而使其在使用 API 时尽可能地保持灵活性。
它聚合来自以下源的数据：

- http://www.iana.org/assignments/media-types/media-types.xhtml
- http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types
- http://hg.nginx.org/nginx/raw-file/default/conf/mime.types

## <a name="installation"></a>安装

```bash
npm install mime-db
```

### <a name="database-download"></a>数据库下载

如果非常希望在浏览器中使用它，只需使用 [jsDelivr](https://www.jsdelivr.com/) 即可获取 JSON 文件。 建议将 `master` 替换为[发布标记](https://github.com/jshttp/mime-db/tags)，因为 JSON 格式将来可能会更改。

```
https://cdn.jsdelivr.net/gh/jshttp/mime-db@master/db.json
```

## <a name="usage"></a>使用情况

```js
var db = require('mime-db')

// grab data on .js files
var data = db['application/javascript']
```

## <a name="data-structure"></a>数据结构

JSON 文件是小写 mime 类型的映射查找。
每个 mime 类型都有以下属性：

- `.source` - 其中定义了 mime 类型。
    如果未设置，则可能是自定义媒体类型。
    - `apache` - [Apache 常见媒体类型](http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types)
    - `iana` - [IANA 定义的媒体类型](http://www.iana.org/assignments/media-types/media-types.xhtml)
    - `nginx` - [nginx 媒体类型](http://hg.nginx.org/nginx/raw-file/default/conf/mime.types)
- `.extensions[]` - 与此 mime 类型关联的已知扩展名。
- `.compressible` - 是否可对此类型的文件进行 gzip 压缩。
- `.charset` - 与此类型关联的默认字符集（如果有）。

如果未知，则每个属性都可能是 `undefined`。

## <a name="contributing"></a>贡献

若要编辑数据库，请仅针对 `src/custom-types.json` 或 `src/custom-suffix.json` 发起 PR。

`src/custom-types.json` 文件是一个 JSON 对象，其 MIME 类型为键，值是具有以下键的对象：

- `compressible` - 如果不知道，请忽略，否则使用 `true`/`false` 指示该类型所表示的数据是否通常可压缩。
- `extensions` - 包括与该类型关联的文件扩展名数组。
- `notes` - 关于类型的可读注释，通常说明类型是什么。
- `sources` - 包括 MIME 类型和关联扩展名的来源的 URL 数组。 这需要是[主要源](https://en.wikipedia.org/wiki/Primary_source)；不接受指向聚合网站和维基百科的类型链接。

若要更新该生成，请运行 `npm run build`。

### <a name="adding-custom-media-types"></a>添加自定义媒体类型

将新媒体类型包括在此库中的最佳方法是将它们注册到 IANA。 [RFC 6838 第 5 节](http://tools.ietf.org/html/rfc6838#section-5)概述了社区注册过程。 注册到 IANA 的类型会自动拉入此库。

如果此方法不可行，可直接在此处将它们添加为“自定义”类型。 为此，必须有一个明确列出媒体类型的主要源。 如果要将扩展名列为与此媒体类型关联的扩展名，源还必须明确链接媒体类型和扩展名。

[ci-image]: https://badgen.net/github/checks/jshttp/mime-db/master?label=ci
[ci-url]: https://github.com/jshttp/mime-db/actions?query=workflow%3Aci
[coveralls-image]: https://badgen.net/coveralls/c/github/jshttp/mime-db/master
[coveralls-url]: https://coveralls.io/r/jshttp/mime-db?branch=master
[node-image]: https://badgen.net/npm/node/mime-db
[node-url]: https://nodejs.org/en/download
[npm-downloads-image]: https://badgen.net/npm/dm/mime-db
[npm-url]: https://npmjs.org/package/mime-db
[npm-version-image]: https://badgen.net/npm/v/mime-db
