---
ms.openlocfilehash: 1c0b003e059d8c0273b845a20efc8b63fc83c3a4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050837"
---
# <a name="azure-logger-library-for-javascript"></a>适用于 JavaScript 的 Azure 记录器库

`@azure/logger` 包可在用于 JavaScript 的 Azure SDK 中用于启用日志记录。

可通过以下方式为 Azure SDK 启用日志记录：

- 设置 AZURE_LOG_LEVEL 环境变量
- 调用从“@azure/logger”导入的 setLogLevel
- 对特定记录器调用 enable ()
- 使用 `DEBUG` 环境变量。

请注意，如果设置了 AZURE_LOG_LEVEL，则优先于 DEBUG。 仅使用 DEBUG 而不指定 AZURE_LOG_LEVEL 或调用 setLogLevel。

## <a name="getting-started"></a>入门

### <a name="installation"></a>安装

使用 npm 安装此库，如下所示

```
npm install @azure/logger
```

## <a name="key-concepts"></a>关键概念

`@azure/logger` 包支持按最详细到最不详细的顺序指定的以下日志级别：

- verbose
- info
- warning
- error

以编程方式或通过 `AZURE_LOG_LEVEL` 环境变量设置日志级别时，任何使用日志级别等于或小于所选的日志级别编写的日志将被发出。

例如，将日志级别设置为 `warning` 将导致日志级别为 `warning` 或 `error` 的所有日志被发出。

## <a name="examples"></a>示例

### <a name="example-1---basic-usage"></a>示例 1 - 基本用法

```js
const { EventHubClient } = require('@azure/event-hubs');

const logger = require('@azure/logger');
logger.setLogLevel('info');

// operations will now emit info, warning, and error logs
const client = new EventHubClient(/* params */);
client.getPartitionIds()
  .then(ids => { /* do work */ })
  .catch(e => { /* do work */ });
});
```

### <a name="example-2---redirect-log-output"></a>示例 2 - 重定向日志输出

```js
const { AzureLogger, setLogLevel } = require("@azure/logger");

setLogLevel("verbose");

// override logging to output to console.log (default location is stderr)
AzureLogger.log = (...args) => {
  console.log(...args);
};
```

使用 `AzureLogger` 时，可通过替代 `AzureLogger.log` 方法来重定向来自 Azure SDK 的日志记录输出。 这在要将日志重定向到 stderr 以外的位置时可能很有用。

## <a name="contributing"></a>贡献

要为此库做出贡献，请阅读[贡献指南](https://github.com/Azure/azure-sdk-for-js/blob/master/CONTRIBUTING.md)，详细了解如何生成和测试代码。

![曝光数](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Flogger%2FREADME.png)
