---
ms.openlocfilehash: 16bd908c458b681d1f628433e4ca6da5b1658d6e
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050585"
---
# <a name="keytar---node-module-to-manage-system-keychain"></a>keytar - 用于管理系统密钥链的 Node 模块

[![Travis 版本状态](https://travis-ci.org/atom/node-keytar.svg?branch=master)](https://travis-ci.org/atom/node-keytar)
[![Windows 版本状态](https://ci.appveyor.com/api/projects/status/github/atom/node-keytar?svg=true)](https://ci.appveyor.com/project/Atom/node-keytar)
[![依赖项状态](https://david-dm.org/atom/node-keytar.svg)](https://david-dm.org/atom/node-keytar)

用于在系统的密钥链中获取、添加、替换和删除密码的本机 Node 模块。 在 macOS 上，密码由密钥链管理，在 Linux 上由机密服务 API/libsecret 管理，在 Windows 上由凭据保管库管理。

## <a name="installing"></a>安装

```sh
npm install keytar
```

### <a name="on-linux"></a>在 Linux 上

目前此库使用 `libsecret`，因此你可能需要先安装它才能运行 `npm install`。

需要根据自己的发行版运行以下相应的命令：

* Debian/Ubuntu：`sudo apt-get install libsecret-1-dev`
* 基于 Red Hat 的：`sudo yum install libsecret-devel`
* Arch Linux：`sudo pacman -S libsecret`

## <a name="building"></a>生成

  * 克隆存储库
  * `npm install`运行
  * 运行 `npm test` 以运行测试

## <a name="supported-versions"></a>支持的版本

每个 `keytar` 版本都包含这些项目主动支持的 Node 和 Electron 版本的预生成二进制文件。 请参阅 [Node](https://github.com/nodejs/Release) 和 [Electron](https://electronjs.org/docs/tutorial/support) 的发布文档，了解当前支持的内容。

## <a name="bindings-from-other-languages"></a>其他语言的绑定

- [Rust](https://crates.io/crates/keytar)

## <a name="docs"></a>Docs

```javascript
const keytar = require('keytar')
```

keytar 中的每个函数都是异步的，并返回一个承诺。 发生任何错误时承诺将被拒绝，或将使用函数的“yields”值解析该承诺。

### <a name="getpasswordservice-account"></a>getPassword(service, account)

获取 `service` 和 `account` 的存储密码。

`service` - 字符串服务名称。

`account` - 字符串帐户名称。

如果未找到给定服务和帐户的项，则生成字符串密码或 `null`。

### <a name="setpasswordservice-account-password"></a>setPassword(service, account, password)

将 `service` 和 `account` 的 `password` 保存到密钥链中。 如有必要，请添加新项，或更新现有项（如果存在）。

`service` - 字符串服务名称。

`account` - 字符串帐户名称。

`password` - 字符串密码。

不生成任何结果。

### <a name="deletepasswordservice-account"></a>deletePassword(service, account)

删除 `service` 和 `account` 的存储密码。

`service` - 字符串服务名称。

`account` - 字符串帐户名称。

如果密码删除，则生成 `true`，如果未找到指定服务和帐户的项，则生成 `false`。

### <a name="findcredentialsservice"></a>findCredentials(service)

查找密钥链中 `service` 的所有帐户和密码。

`service` - 字符串服务名称。

生成 `{ account: 'foo', password: 'bar' }` 的数组。

### <a name="findpasswordservice"></a>findPassword(service)

查找密钥链中 `service` 的密码。 这非常适合不需要 `account` 的情况。

`service` - 字符串服务名称。

如果未找到给定服务的项，则生成字符串密码或 `null`。

